{% extends "base.html" %}
{% block body %}
<body>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <section>
        <a href="{% url "home" %}" class="btn btn-info">Back Home</a><br><br>
        <h2>Summary</h2>
        <table class="tab1">
            <tr>
                <th style="border: 1px solid #ddd;">Quote</th>
                <th style="border: 1px solid #ddd;">Amount</th>
            </tr>
            <!-- Summary rows will be dynamically added here -->
            <tr>
                <td style="border: 1px solid #ddd;">Total Income: </td>
                <td style="border: 1px solid #ddd;">{% if quotes %}{{income}}{% else %}0{% endif %}</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd;">Total Expenses: </td>
                <td style="border: 1px solid #ddd;">{% if quotes %}{{expenses}}{% else %}0{% endif %}</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd;">Net: </td>
                <td style="border: 1px solid #ddd;">{% if quotes %}{{net}}{% else %}0{% endif %}</td>
            </tr>
        </table>
    </section>

    <section>
        <h2>History</h2>
        {% if quotes %}
        <table class="tab2">
            <tr>
                <th style="border: 1px solid #ddd;">Quote</th>
                <th style="border: 1px solid #ddd;">Amount</th>
            </tr>
                {% for i in quotes %}
                    <tr>
                        <td style="border: 1px solid #ddd;">{{i.quote}}</td>
                        <td style="border: 1px solid #ddd; color: {% if i.cost < 0 %}red{% else %}green{% endif %}">{{i.cost}}</td>
                    </tr>
                {% endfor %}
                
            </table>
        {% else %}
        No Transactions done yet.
        {% endif %}
    </section>
</body>
{% endblock body %}